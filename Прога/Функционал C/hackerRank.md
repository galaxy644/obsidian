scanf("%[^\n]%*c", &s); что это за дичь ?

А это значит прочитать строчку до символа перевода строки \n !