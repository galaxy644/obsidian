  

В `printf` спецификатор формата имеет общий вид:

```Plain
%[флаги][ширина][.точность][размер]тип
```

Обязательны только `%` и _тип_, остальные части не обязательные. Не обязательные части в схеме пишем в `[ ]`.

- **Тип** - это **d**, **u**, **i**, **c**, **f** и так далее. Мы перечисляли их, когда говорили о разных целых типах и типах с плавающей точкой.
    - **%p** - указатель
- Там же мы говорили о **l**, **ll**, **h**, **hh** - это **размер** типа.
    - **z** - этот размер мы будем потом употреблять для типа [size_t](https://stepik.org/lesson/777151/step/3?unit=779632)
- **ширина** - на печать данных отведено _ширина_ символов (или больше).

Добавим в форматную строку `< >`, чтобы понимать где начинается и где заканчивается печать.

```Plain
printf("<%d>\n", 12);       // <12>
printf("<%4d>\n", 12);      // <  12> - дополняется пробелами слева
printf("<%4d>\n", 12345);   // <12345> - требует больше символов, чем 4, занимает столько символов, сколько нужно, то есть 5
```

Напечатает

```Plain
<12>
<  12>
<12345>
```

- **флаги**
    - **+** - указывать явно знак числа, в том числе положительного.
    -  - выравнивание влево по указанной ширине
    - **0** - дополнять слева числа до указанной ширины не пробелами, а 0.

```Plain
printf("%+d> %+d\n", 7, -12);        // +7 -12
printf("<%3d> <%3d>\n", 7, 1234);    // <  7> <1234>
printf("<%-3d> <%-3d>\n", 7, 1234);  // <7  > <1234>


int h = 12, m = 5;
printf("%02d:%02d\n", h, m);         // 12:05
h = 3;
m = 55;
printf("%02d:%02d\n", h, m);         // 03:55
```

**%02d:%02d** - формат для печати времени `hh:mm` с лидирующими нулями.

**Печать чисел с плавающей точкой**

- **.точность** указывает сколько знаков после точки печатать. Число при печати округляется.

Печать 3 знаков после точки:

```Plain
printf("%.3f", 12.345678911);   // 12.345
```

При указании **ширины** учитывайте, что ширина - это (минимальное) количество символов для печати числа. Учитывая точку и символы после нее.

```Plain
printf("%8.3f", 12.345678911);
```

напечатает

```Plain
  12.345
```

Всего 8 символов, из них 1 символ точка, 3 - на печать дробной части, на печать целой части осталось 8-(1+3)=4 символа.

## **Печать строк**

Для печати строк используют тип **s** (string).

**Ширина** - печатать n или более символов, с выравниванием вправо или влево (отрицательная ширина), дополняя пробелами. Если строка длиннее, то ширина игнорируется.

**Точность** - если нужно обрезать строку. `%.5s` - не более 5 символов.

```Plain
printf("<%5s>\n", "abc");         // <  abc>
printf("<%05s>\n", "abc");        // <  abc>
printf("<%-5s>\n", "abc");        // <abc  >
printf("<%5s>\n", "abcdefgh");    // <abcdefgh>
printf("<%.5s>\n", "abcdefgh");   // <abcde>
printf("<%.5s>\n", "abc");        // <abc>
```

Что делать, если ширина числа не известна заранее, а будет вычисляться по введенным числам. Например, мы печатаем таблицу красиво, с выравниванием чисел.

Тогда используйте в формате знак `*` в ширине и точности и подставляйте вместо него нужные аргументы:

```Plain
printf("%0*.*f", 10, 5, 1.23456789);
```

печатает так же, как

```Plain
printf("%010.5f", 1.23456789);
```

то есть

```Plain
0001.23456
```

![[Untitled 5.png|Untitled 5.png]]