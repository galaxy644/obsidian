Вот пример простейшего echo-сервиса для xinetd:

```C++
\#include <iostream>
using namespace std;
int main() {
char buffer[256];
while (true){
          cin >> buffer;  // данные из сети помещаем в буфер
          cout << buffer;  // данные отправляем обратно в сеть
          }
return 0;
}
```

Правда нужно учитывать особенности работы класса 'cin' -- клиент посылая данные в сеть, должен завершать их символом перевода строки '\n'. Но читать стандартный ввод можно по разному -- это всего лишь один из способов. Остается только создать конфигурацию для xinetd, где указать какой протокол использовать, какой порт и в какую программу отправлять данные.  
Пример конфигурации:  

service echoserver  
{  
port = 23456  
socket_type = stream  
protocol = tcp  
wait = no  
server = /path/to/echo/server/program  
}  

  

Источник

> [!info] "универсальный" TCP сервер на малине и ....(самодельный на Си) | Амперка / Форум  
> Собственно прошу одобрения на подробное описание собственного опыта реализации TCP сервера на C(C++) для Raspberry.  
> [https://forum.amperka.ru/threads/универсальный-tcp-сервер-на-малине-и-самодельный-на-Си.9867/](https://forum.amperka.ru/threads/универсальный-tcp-сервер-на-малине-и-самодельный-на-Си.9867/)